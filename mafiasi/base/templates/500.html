{% extends "base.html" %}
{% load i18n %}
{% load settings_value %}

{% block wtitle %}{% block ptitle %}{% trans "Internal server error" %}{% endblock %}{% endblock %}

{% block content %}
    <script src="{% static 'js/raven.min.js' %}"></script>

{% url 'base_problems' as problems_url %}
<p>{% blocktrans %}We're sorry, but we didn't expect this to happen. Our error reporting tool should have sent an email to us with some technical details. Please try again later. If the problem persists, see our <a href="{{ problems_url }}">problem reporting page</a>.{% endblocktrans %}</p>

{% if request.sentry.id %}
  <script>
  Raven.showReportDialog({
    // grab the eventId generated by the Sentry SDK
    eventId: '{{ request.sentry.id }}',

    // use the public DSN (dont include your secret!)
    dsn: {% value_from_settings RAVEN_PUBLIC_DSN %}
  });
  </script>
{% endif %}

{% endblock %}

